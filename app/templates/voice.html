{% extends "base.html" %}

{% block content %}
<section class="voice-page">
  <div class="voice-card" data-voice-room>
    <div class="voice-header">
      <div>
        <h2>보이스룸</h2>
        <p>DB 저장 없이 현재 접속한 사용자 기준으로 참가자를 표시합니다.</p>
      </div>
      <button class="btn success" id="voiceToggleButton" data-joined="false">참가하기</button>
    </div>
    <div class="voice-participants">
      <h3>참가자</h3>
      <ul id="voiceParticipantList" class="voice-list">
        <li class="empty">아직 참가자가 없습니다.</li>
      </ul>
    </div>
  </div>
</section>

<script src="https://cdn.socket.io/4.7.5/socket.io.min.js"></script>
<script>
  window.KJB_CURRENT_USER_ID = {{ current_user.id }};
  window.KJB_VOICE_ICE_SERVERS = {{ voice_ice_servers|tojson }};
</script>
<script src="/static/js/voice.js"></script>
{% endblock %}
